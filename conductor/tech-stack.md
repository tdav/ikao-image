# Tech Stack

Этот документ описывает технологии, библиотеки и инструменты, используемые в проекте IKAO-OFIQ.

## Языки программирования
- **C# (.NET 10.0):** Основной язык разработки консольного приложения и программного интерфейса (SDK).
- **C++ (ISO C++17/20):** Используется для написания нативного моста (Bridge) к библиотеке OFIQ.

## Основные библиотеки и фреймворки
- **OFIQ (Open Source Face Image Quality):** Базовая библиотека для оценки качества изображений лиц. Обеспечивает расчет метрик в соответствии с ISO/IEC 29794-5.
- **ASP.NET Core:** Фреймворк для реализации REST API интерфейса.
- **OpenAPI (Swagger):** Автоматическая генерация документации и интерфейса тестирования API.
- **ONNX Runtime:** Среда исполнения для моделей машинного обучения, на которых основаны многие метрики OFIQ.
- **SixLabors.ImageSharp:** Высокопроизводительная библиотека для обработки изображений в среде .NET. Используется для декодирования и преобразования форматов (например, в BGR24).

## Интеграция и взаимодействие
- **P/Invoke (Platform Invoke):** Стандартный механизм .NET для вызова функций из неуправляемых (native) динамических библиотек (`.so`).
- **C-Compatible API (Extern "C"):** Специально разработанный слой в C++ мосте для обеспечения стабильного двоичного интерфейса (ABI) с C#.

## Целевая платформа и окружение
- **ОС:** Linux (x64).
- **Сборка:** GCC/G++ для нативного кода, `dotnet CLI` для управляемого кода.
- **Развертывание:** Единая структура в директории `dist/` (console, api, config), формируемая скриптом `setup.sh`.
- **Зависимости:** Требуется наличие `libofiq_lib.so` и `libonnxruntime.so` в путях поиска библиотек.

## Инструментарий разработки
- **GCC:** Компилятор C++.
- **.NET SDK 10.0:** Для сборки и тестирования C# части.
- **Git:** Система контроля версий.
